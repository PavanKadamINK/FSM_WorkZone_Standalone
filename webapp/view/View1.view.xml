<mvc:View
    controllerName="winslow.workzone.sap.com.workzoneapplication.controller.View1"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc">

    <Shell appWidthLimited="false">
        <Page
            title="Permit to Work"
            showNavButton="true"
            navButtonPress="onNavBack"
            enableScrolling="false">

            <content>
                <HBox height="100%" renderType="Bare" fitContainer="true" class="sapUiMediumMargin">

                    <!-- Left Section (70%) -->
                    <ScrollContainer id="leftScroll" height="100%" width="70%" vertical="true" horizontal="false" focusable="false" class="hideScrollBar">
                        <VBox id="workflowSection" class="leftSection">
                            <Title text="PERMIT TO WORK" level="H1" class="mainTitle"/>

                            <!-- First Work Flow -->
                            <Title text="WORKFLOW" level="H2" class="subTitle"/>
                            <Text text="1. In consultation with the project team / project engineer, identify if the task at hand requires a permit to work." wrapping="true"/>
                            <Text text="2. Complete the required permit to work." wrapping="true"/>
                        </VBox>

                        <!-- Second WORKFLOW DIAGRAM -->
                        <VBox id="workflowDiagramSection" class="leftSection">
                            <Title text="WORKFLOW DIAGRAM" level="H2" class="subTitle"/>
                            <Image src="../Images/Permit-to-Work-1.png" width="70%" class="workflowImage" densityAware="false" alt="Workflow Diagram" />
                        </VBox>

                        <!-- Thred LEGAL REQUIREMENTS-->
                        <VBox id="legalRequirementsSection" class="leftSection">
                            <Title text="LEGAL REQUIREMENTS" level="H2" class="subTitle"/>
                            <Table id="requirementsTable" items="{WorkZoneModel>/}" alternateRowColors="true" inset="false" class="requirementsTable">
                                <columns>
                                    <Column width="20%">
                                        <Text text="Ref" class="headerText" />
                                    </Column>
                                    <Column width="80%">
                                        <Text text="Requirements" class="headerText" />
                                    </Column>
                                </columns>
                                <items>
                                    <ColumnListItem vAlign="Top" type="Inactive">
                                        <ObjectIdentifier title="{WorkZoneModel>Ref}" class="refText" />
                                        <VBox items="{WorkZoneModel>Items}">
                                            <items>
                                                <Link text="{WorkZoneModel>Text}" href="{WorkZoneModel>Url}" target="{WorkZoneModel>Traget}" class="requirementText"/>
                                            </items>
                                        </VBox>
                                    </ColumnListItem>
                                </items>
                            </Table>
                        </VBox>

                        <!-- Fourth KEY POINTS -->
                        <VBox id="keyPointsSection" class="keyPointsContainer" width="100%">
                            <Title text="KEY POINTS" class="keyPointsTitle" />
                            <Text text="For a comprehensive guide, see the Permit to Work Procedure Documentation (WINBMS-OP-11)" class="keyPointsDesc" />

                            <Title text="Purpose" class="purposeTitle" />
                            <VBox class="purposeContainer">
                                <HBox>
                                    <core:Icon src="sap-icon://color-fill" size="0.6rem" class="bulletIcon sapUiTinyMarginEnd"/>
                                    <Text text="To authorise relevant personnel to carry out specific tasks and to plan, control, and complete work according to safe work practices prior to commencing any high-risk activity. To ensure proper consideration is given to the risks of a particular task. The scope is to apply permit to work system to the following planned tasks:" class="purposeText" />
                                </HBox>
                                <VBox class="subPointsContainer" >
                                    <HBox>
                                        <core:Icon src="sap-icon://color-fill" size="0.6rem" class="subBulletIcon sapUiTinyMarginEnd"/>
                                        <Text text="Working at heights (2 meters and above)" class="purposeList" />
                                    </HBox>
                                    <HBox>
                                        <core:Icon src="sap-icon://color-fill" size="0.6rem" class="subBulletIcon sapUiTinyMarginEnd"/>
                                        <Text text="Confined spaces" class="purposeList" />
                                    </HBox>
                                    <HBox>
                                        <core:Icon src="sap-icon://color-fill" size="0.6rem" class="subBulletIcon sapUiTinyMarginEnd"/>
                                        <Text text="Hot works" class="purposeList" />
                                    </HBox>
                                    <HBox>
                                        <core:Icon src="sap-icon://color-fill" size="0.6rem" class="subBulletIcon sapUiTinyMarginEnd"/>
                                        <Text text="Services (working near underground and overhead power lines)" class="purposeList" />
                                    </HBox>
                                    <HBox>
                                        <core:Icon src="sap-icon://color-fill" size="0.6rem" class="subBulletIcon sapUiTinyMarginEnd"/>
                                        <Text text="Use of cranes or other aerial devices" class="purposeList" />
                                    </HBox>
                                </VBox>
                            </VBox>

                            <Title text="Definition" class="purposeTitle" />
                            <VBox class="purposeContainer">
                                <HBox>
                                    <core:Icon src="sap-icon://color-fill" size="0.6rem" class="bulletIcon sapUiTinyMarginEnd"/>
                                    <Text text="A permit to work is a formal document that authorises work considered hazardous and/or high risk. They outline which personnel are authorised to undertake specific work at the stated times and dates. The permit to work system requires the intended work methods and risk control measures to be established, documented, and agreed to prior to the high-risk activity commencing." />
                                </HBox>
                            </VBox>

                            <Title text="Working at Heights" class="purposeTitle" />
                            <VBox class="purposeContainer">
                                <HBox>
                                    <core:Icon src="sap-icon://color-fill" size="0.6rem" class="bulletIcon sapUiTinyMarginEnd"/>
                                    <Text text="Working at heights refers to any work-related activity being undertaken at an elevated position, above 2 meters where there is potential to fall." />
                                </HBox>
                            </VBox>

                            <Title text="Hot Work" class="purposeTitle" />
                            <VBox class="purposeContainer">
                                <HBox>
                                    <core:Icon src="sap-icon://color-fill" size="0.6rem" class="bulletIcon sapUiTinyMarginEnd"/>
                                    <Text text="Any hot work tasks such as welding, thermal or oxygen cutting, heating, including fire-producing or spark-producing operations that may increase the risk of fire or explosion requires a specific permit to work." />
                                </HBox>
                            </VBox>

                            <Title text="Prior to Commencement" class="purposeTitle" />
                            <VBox class="purposeContainer">
                                <HBox>
                                    <core:Icon src="sap-icon://color-fill" size="0.6rem" class="bulletIcon sapUiTinyMarginEnd"/>
                                    <Text text="It is the responsibility of Winslow personnel to ensure that relevant permits are completed prior to commencement of works and that all procedures outlined on the issued permit are followed by Winslow personnel, sub-contractors, and plant operators. The permit must be visibility posted in the work area." />
                                </HBox>
                            </VBox>

                            <Title text="Permits" class="purposeTitle" />
                            <VBox class="purposeContainer">
                                <HBox>
                                    <core:Icon src="sap-icon://color-fill" size="0.6rem" class="bulletIcon sapUiTinyMarginEnd"/>
                                    <Text text="Permits outline the appropriate identity, nature and the extent of the job and its associated hazards. It also outlines any limitations on the extent of the work and the time during which the job may be carried out." />
                                </HBox>
                            </VBox>

                             <Title text="Responsibilities" class="purposeTitle" />
                            <VBox class="purposeContainer">
                                <HBox>
                                    <core:Icon src="sap-icon://color-fill" size="0.6rem" class="bulletIcon sapUiTinyMarginEnd"/>
                                    <Text text="It is the responsibility of the project manager to ensure that all hazards associated with works that are covered by a permit are identified, assessed, and controlled. It is also the responsibility of the project manager to ensure that a permit is granted before any work can commence and that all methods outlined by the permit are safely followed." />
                                </HBox>
                            </VBox>

                             <Title text="Display of signs" class="purposeTitle" />
                            <VBox class="purposeContainer">
                                <HBox>
                                    <core:Icon src="sap-icon://color-fill" size="0.6rem" class="bulletIcon sapUiTinyMarginEnd"/>
                                    <Text text="The permit holder and field supervisors must ensure all relevant signs relating to the task being performed must be prominently displayed and permits are to be available onsite for the duration of the task and available for inspection whilst works are being undertaken." />
                                </HBox>
                            </VBox>
                        </VBox>
                    </ScrollContainer>

                    <!-- Right Section (30%) -->
                    <ScrollContainer id="rightScroll" height="100%" width="30%" vertical="true" horizontal="false" focusable="false" class="hideScrollBar">
                        <VBox class="rightSection">
                            <Link text="WORKFLOW" class="navItem" press="onNavClick"/>
                            <Link text="WORKFLOW DIAGRAM" class="navItem" press="onNavClick"/>
                            <Link text="LEGAL REQUIREMENTS" class="navItem" press="onNavClick"/>
                            <Link text="KEY POINTS" class="navItem" press="onNavClick"/>
                        </VBox>

                        <VBox class="formsContainer">
                            <Title text="FORMS" class="formsTitle" />
                            <VBox items="{FormsModel>/Forms}">
                                <items>
                                    <HBox class="formRow hoverEffect" alignItems="Center">
                                        <core:Icon src="sap-icon://pdf-attachment" size="2rem" class="sapUiSmallMarginEnd pdfIcon"/>
                                            <VBox class="formDetails">
                                                <VBox class="formDetails">
                                                    <Text text="{FormsModel>FormCode}" class="formsText" />
                                                    <Text text="{FormsModel>Description}" class="formsDesc" />
                                                </VBox>
                                            </VBox>
                                        </HBox>
                                    </items>
                                </VBox>
                            </VBox>

                            <VBox class="formsContainer">
                                <Title text="PROCEDURES" class="formsTitle" />
                                <VBox class="procedureContainer" items="{ProceduresModel>/Procedures}">
                                    <HBox class="procedureItem" alignItems="Center">
                                        <core:Icon src="sap-icon://pdf-attachment" size="1.8rem" class="procedureIcon sapUiSmallMarginEnd" />
                                        <VBox class="procedureDetails">
                                            <Text text="{ProceduresModel>Title}" class="procedureTitle"/>
                                            <Text text="PDF Document" class="procedureSubtitle"/>
                                        </VBox>
                                    </HBox>
                                </VBox>
                            </VBox>
                    </ScrollContainer>

                </HBox>
            </content>
        </Page>
    </Shell>
</mvc:View>



<!-- .leftSection {
  padding: 2rem;
  background-color: #ffffff;
}

.mainTitle {
  font-size: 2rem;
  font-weight: 700;
  color: #000;
  margin-bottom: 1rem;
}

.subTitle {
  font-size: 1.25rem;
  font-weight: 700;
  color: #eaac2f;
  margin-top: 2rem;
  margin-bottom: 1rem;
}

.sapMText {
  font-size: 1rem;
  color: #111;
  line-height: 1.6;
  margin-bottom: 0.5rem;
}

.workflowImage {
  display: block;
  margin: 2rem auto;
  border-radius: 8px;
}

/* Right Section Navigation */
.rightSection {
  background-color: #fdf3dd;
  padding: 2rem;
  border-radius: 8px;
  width: 100%;
}

.navItem {
  font-size: 1rem;
  font-weight: 700;
  color: #000 !important;
  margin-top: 1rem;
  margin-bottom: 1.2rem;
  cursor: pointer;
  text-decoration: none !important;
  background: none !important;
  outline: none !important;
  border: none !important;
}
.navItem:hover {
  color: #eaac2f !important;
}
.navItem:active,
.navItem:focus,
.sapMLnk:focus {
  color: #eaac2f !important;
  background-color: transparent !important;
  outline: none !important;
  box-shadow: none !important;
}

/* Scrollbar */
.hideScrollBar {
  scrollbar-width: none !important;
  -ms-overflow-style: none !important;
}
.hideScrollBar::-webkit-scrollbar {
  display: none !important;
}

/* Table CSS */
.requirementsTable .sapMListTblHeaderCell {
  background-color: #eaac2f !important;
  color: #ffffff !important;
  font-weight: 700;
  border: none !important;
  padding: 1rem !important;
}
.headerText {
  color: #fff;
  font-size: 1.5rem;
  font-weight: 900;
}
.refText {
  font-weight: 900;
  color: #000;
}
.requirementsTable .sapMLIB:nth-child(even) {
  background-color: #f2f2f2 !important;
}
.requirementsTable .sapMLIB:nth-child(odd) {
  background-color: #ffffff !important;
}
.requirementsTable .sapMListTblRow,
.requirementsTable .sapMListTblCell {
  border: none !important;
  padding: 1rem !important;
}

/* Table Links */
.requirementText {
  color: black !important;
  text-decoration: none !important;
  font-size: 1rem;
  line-height: 1.6;
}
.requirementText:hover,
.requirementText:focus {
  color: #eaac2f !important;
  text-decoration: none !important;
}

/* Forms Section */
.formsContainer {
  padding: 1.5rem;
}
.formsTitle {
  font-size: 1.5rem;
  font-weight: 800;
  color: #eaac2f;
  margin-bottom: 1.5rem;
}
.formRow {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  cursor: pointer;
  transition: all 0.2s ease;
}
.pdfIcon {
  width: 2rem;
  height: 2rem;
  color: #000;
}
.formDetails {
  display: flex;
  flex-direction: column;
}
.formsText {
  font-weight: bold;
  font-size: 1rem;
  color: #000;
  margin-bottom: 0.2rem;
}
.formsDesc {
  font-size: 0.95rem;
  color: #555;
}
.formRow:hover .pdfIcon,
.formRow:hover .formsText,
.formRow:hover .formsDesc {
  color: #eaac2f;
}

/* Procedures Section */
.procedureContainer {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}
.procedureItem {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
}
.procedureIcon {
  color: #000;
}
.procedureDetails {
  display: flex;
  flex-direction: column;
}
.procedureTitle {
  font-size: 1rem;
  color: #000;
  margin-bottom: 0.2rem;
}
.procedureSubtitle {
  font-size: 0.9rem;
  color: #555;
}
.procedureItem:hover .procedureIcon,
.procedureItem:hover .procedureTitle {
  color: #eaac2f;
}

/* Key Points Section */
.keyPointsContainer {
  padding: 1.5rem 3rem;
  color: #000;
  font-family: "72", Arial, sans-serif;
}
.keyPointsTitle {
  color: #eaac2f;
  font-size: 1.5rem;
  font-weight: bold;
  margin-bottom: 0.5rem;
}
.keyPointsDesc {
  font-size: 1rem;
  margin-bottom: 1.5rem;
}
.purposeTitle {
  font-size: 1.3rem;
  font-weight: bold;
  margin-top: 1rem;
  margin-bottom: 0.5rem;
}
.bulletIcon,
.subBulletIcon {
  color: black;
  margin-top: 0.4rem;
}
.purposeContainer {
  display: flex;
  flex-direction: column;
  gap: 0.6rem;
  margin-top: 1rem;
}
.purposeText {
  font-size: 1rem;
  line-height: 1.6rem;
  color: #000;
  text-align: justify;
}
.subPointsContainer {
  margin-left: 2rem;
  margin-top: 0.5rem;
  display: flex;
  flex-direction: column;
  gap: 0.3rem;
}
.purposeList {
  font-size: 1rem;
  color: #000;
  line-height: 1.4rem;
} -->
